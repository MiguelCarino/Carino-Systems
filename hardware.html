<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Hardware</title>
    <link rel="stylesheet" href="assets/css/styles.css">
    <link rel="stylesheet" href="assets/css/solutions.css">
    <link rel="stylesheet" href="https://miguelcarino.github.io/MusicGrid/assets/css/grid.css">
    <link rel="icon" href="assets/images/logo.webp">
    <script src="assets/js/main.js" defer></script>
    <script src="https://miguelcarino.github.io/MusicGrid/assets/js/grid.js" defer></script>
    <script src="assets/js/catalog.js" defer></script>
    <!-- Open Graph Protocol Meta Tags -->
    <meta property="og:title" content="Carino Systems"/>
    <meta property="twitter:title" content="Carino Systems"/>
    <meta property="og:type" content="website">
    <meta property="og:url" content="https://carino.systems"/>
    <meta property="og:image" content="https://carino.systems/images/ogp.webp"/>
    <meta property="og:description" content="Friendly IT solutions, openly available"/>
    <meta property="og:site_name" content="Carino Systems"/>
    <meta property="og:locale" content="en_US"/>
    <style>
        body {
            color: #005bb5;
            background-color: #000000;
            font-family: Arial, sans-serif;
        }
        
        .container {
            display: flex;
            flex-wrap: wrap;
            gap: 0.5em;
            max-width: 100%;
            margin: 0 auto;
            padding: 1em;
            background: #4592d1;
            height: 100%;
        }

        #content {
            flex: 0 1 65.7%;
            padding: 1em;
            /*background: #4592d1;*/
            box-shadow: 0 0 10px rgba(0, 0, 0, 0.1);
            border-radius: 8px;
        }

        #warranty-section {
            flex: 0 1 33.33%;
            padding: 2em;
            /*background: #4592d1;*/
            box-shadow: 0 0 10px rgba(0, 0, 0, 0.1);
            border-radius: 8px;
            text-align: center;
        }

        h1, h2 {
            margin: 0 0 1em;
            text-align: center;
        }

        table {
            width: 100%;
            border-collapse: collapse;
            margin: 2em 0;
        }

        th, td {
            border: 1px solid #ddd;
            padding: 0.5em;
            text-align: center;
        }

        th {
            background: #eff86a;
        }

        .centered-buttons {
            display: flex;
            justify-content: center;
            flex-wrap: wrap;
            gap: 1px;
        }

        #category-buttons button, #warranty-buttons button, .useful-sites button {
            width: 120px;
            height: 40px;
            margin: 0.5em;
            padding: 0.5em;
            background: #0073e6;
            color: #fff;
            border: none;
            border-radius: 5px;
            cursor: pointer;
            text-align: center;
        }

        #category-buttons button:hover, #warranty-buttons button:hover, .useful-sites button:hover {
            background: #005bb5;
        }

        #serial-search {
            width: 100%;
            padding: 0.5em;
            margin-bottom: 1em;
        }

        .useful-sites {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(120px, 1fr));
            gap: 10px;
            justify-items: center;
            padding: 1em 0;
        }

        @media (max-width: 768px) {
            .container {
                flex-direction: column;
            }

            #content, #warranty-section {
                flex: 1 1 100%;
                margin: 0.5em auto;
            }

            table {
                font-size: 0.8em;
            }

            th, td {
                padding: 0.5em;
            }

            #category-buttons button, #warranty-buttons button {
                width: 100px;
                height: 35px;
            }

            .centered-buttons {
                gap: 0.2em;
            }
        }
    </style>
</head>
<body>
    <!-- Navigation Bar -->
    <nav id="navbar"></nav>
    <!-- Header -->
    <header>
        <h2>Biasedly based and keen on shameless recommendations.</h2>
    </header>
    <!-- Content and Warranty Section -->
    <div class="container">
        <div id="content">
            <h2>Select a Category</h2>
            <div id="category-buttons" class="centered-buttons"></div>
            <h2 id="model-table-title"></h2>
            <table id="model-recommendation-table"></table>
            <h2 id="specs-table-title"></h2>
            <table id="specs-recommendation-table"></table>
        </div>
        <div id="warranty-section">
            <h2>Warranty Check</h2>
            <input type="text" id="serial-search" placeholder="Enter serial number...">
            <div id="warranty-buttons" class="centered-buttons"></div>
            <p id="no-match-message" style="display:none; color:red;">No matching serial number detected</p>
            <h2>Useful Sites</h2>
            <div class="useful-sites">
                <button onclick="window.open('https://www.tomshardware.com', '_blank')">Tom's Hardware</button>
                <button onclick="window.open('https://www.anandtech.com', '_blank')">AnandTech</button>
                <button onclick="window.open('https://www.techradar.com', '_blank')">TechRadar</button>
                <button onclick="window.open('https://www.cnet.com/topics/computers', '_blank')">CNET Computers</button>
                <button onclick="window.open('https://www.pcworld.com', '_blank')">PCWorld</button>
                <button onclick="window.open('https://www.extremetech.com', '_blank')">ExtremeTech</button>
                <button onclick="window.open('https://www.arstechnica.com', '_blank')">Ars Technica</button>
                <button onclick="window.open('https://www.hardwaresecrets.com', '_blank')">Hardware Secrets</button>
            </div>
        </div>
    </div>
    <!-- Footer -->
    <footer id="footer"></footer>

    <script>
        document.addEventListener('DOMContentLoaded', () => {
            const categories = {
                Budget: [
                    { CPU: 'Intel Core i3-10100', RAM: '8GB', 'GPU*': 'Integrated', Storage: '256GB SSD', PowerSupply: '400W', Motherboard: 'ASUS H410M-E', Total: '$400' },
                    { CPU: 'AMD Ryzen 3 3200G', RAM: '8GB', 'GPU*': 'Integrated', Storage: '256GB SSD', PowerSupply: '400W', Motherboard: 'MSI B450M PRO-VDH', Total: '$380' },
                    { CPU: 'Qualcomm Snapdragon 8cx', RAM: '8GB', 'GPU*': 'Integrated', Storage: '256GB SSD', PowerSupply: 'N/A', Motherboard: 'N/A', Total: '$450' },
                    { CPU: 'Apple M1', RAM: '8GB', 'GPU*': 'Integrated', Storage: '256GB SSD', PowerSupply: 'N/A', Motherboard: 'N/A', Total: '$700' },
                ],
                General: [
                    { CPU: 'Intel Core i5-10400', RAM: '16GB', 'GPU*': 'Integrated', Storage: '512GB SSD', PowerSupply: '450W', Motherboard: 'ASUS B460M-A', Total: '$500' },
                    { CPU: 'AMD Ryzen 5 3600', RAM: '16GB', 'GPU*': 'AMD Radeon RX 550', Storage: '512GB SSD', PowerSupply: '450W', Motherboard: 'MSI B450 TOMAHAWK MAX', Total: '$580' },
                    { CPU: 'Qualcomm Snapdragon 8cx Gen 2', RAM: '16GB', 'GPU*': 'Integrated', Storage: '512GB SSD', PowerSupply: 'N/A', Motherboard: 'N/A', Total: '$650' },
                    { CPU: 'Apple M1', RAM: '16GB', 'GPU*': 'Integrated', Storage: '512GB SSD', PowerSupply: 'N/A', Motherboard: 'N/A', Total: '$1000' },
                ],
                Business: [
                    { CPU: 'Intel Core i5-11400', RAM: '16GB', 'GPU*': 'Integrated', Storage: '512GB SSD', PowerSupply: '400W', Motherboard: 'ASUS Prime B560M-A', Total: '$600' },
                    { CPU: 'AMD Ryzen 5 5600G', RAM: '16GB', 'GPU*': 'Integrated', Storage: '512GB SSD', PowerSupply: '400W', Motherboard: 'MSI B550M PRO-VDH', Total: '$580' },
                    { CPU: 'Qualcomm Snapdragon 8cx', RAM: '16GB', 'GPU*': 'Integrated', Storage: '512GB SSD', PowerSupply: 'N/A', Motherboard: 'N/A', Total: '$700' },
                    { CPU: 'Apple M1', RAM: '16GB', 'GPU*': 'Integrated', Storage: '512GB SSD', PowerSupply: 'N/A', Motherboard: 'N/A', Total: '$1000' },
                ],
                Gaming: [
                    { CPU: 'Intel Core i7-12700K', RAM: '32GB', 'GPU*': 'NVIDIA RTX 3070', Storage: '1TB SSD', PowerSupply: '750W', Motherboard: 'ASUS ROG Strix Z690-E', Total: '$2000' },
                    { CPU: 'AMD Ryzen 7 5800X', RAM: '32GB', 'GPU*': 'AMD Radeon RX 6800', Storage: '1TB SSD', PowerSupply: '750W', Motherboard: 'MSI MPG B550 GAMING EDGE WIFI', Total: '$1800' },
                    { CPU: 'Qualcomm Snapdragon G3x', RAM: '16GB', 'GPU*': 'Integrated', Storage: '512GB SSD', PowerSupply: 'N/A', Motherboard: 'N/A', Total: '$1200' },
                    { CPU: 'Apple M1 Pro', RAM: '32GB', 'GPU*': 'Integrated', Storage: '1TB SSD', PowerSupply: 'N/A', Motherboard: 'N/A', Total: '$2500' },
                ],
                'Content Creation': [
                    { CPU: 'Intel Core i9-12900K', RAM: '64GB', 'GPU*': 'NVIDIA RTX 3080', Storage: '2TB SSD', PowerSupply: '850W', Motherboard: 'ASUS ProArt Z690-Creator', Total: '$3000' },
                    { CPU: 'AMD Ryzen 9 5950X', RAM: '64GB', 'GPU*': 'AMD Radeon RX 6800 XT', Storage: '2TB SSD', PowerSupply: '850W', Motherboard: 'MSI Creator TRX40', Total: '$2800' },
                    { CPU: 'Qualcomm Snapdragon 8cx Gen 3', RAM: '32GB', 'GPU*': 'Integrated', Storage: '1TB SSD', PowerSupply: 'N/A', Motherboard: 'N/A', Total: '$1500' },
                    { CPU: 'Apple M1 Max', RAM: '64GB', 'GPU*': 'Integrated', Storage: '2TB SSD', PowerSupply: 'N/A', Motherboard: 'N/A', Total: '$3500' },
                ],
                Enthusiast: [
                    { CPU: 'Intel Core i9-12900K', RAM: '64GB', 'GPU*': 'NVIDIA RTX 3090', Storage: '2TB SSD', PowerSupply: '1000W', Motherboard: 'ASUS ROG Maximus Z690 Hero', Total: '$4000' },
                    { CPU: 'AMD Ryzen 9 5950X', RAM: '64GB', 'GPU*': 'AMD Radeon RX 6900 XT', Storage: '2TB SSD', PowerSupply: '1000W', Motherboard: 'ASUS ROG Crosshair VIII Hero', Total: '$3800' },
                    { CPU: 'Qualcomm Snapdragon 8cx Gen 3', RAM: '32GB', 'GPU*': 'Integrated', Storage: '1TB SSD', PowerSupply: 'N/A', Motherboard: 'N/A', Total: '$1500' },
                    { CPU: 'Apple M1 Max', RAM: '64GB', 'GPU*': 'Integrated', Storage: '2TB SSD', PowerSupply: 'N/A', Motherboard: 'N/A', Total: '$3500' },
                ],
                LLMs: [
                    { CPU: 'Intel Xeon W-2295', RAM: '128GB', 'GPU*': 'NVIDIA A100', Storage: '4TB SSD', PowerSupply: '1200W', Motherboard: 'ASUS Pro WS C621-64L', Total: '$12000' },
                    { CPU: 'AMD EPYC 7742', RAM: '128GB', 'GPU*': 'AMD Instinct MI100', Storage: '4TB SSD', PowerSupply: '1200W', Motherboard: 'ASUS KRPA-U16', Total: '$11000' },
                    { CPU: 'Ampere Altra Q80-30', RAM: '128GB', 'GPU*': 'Integrated', Storage: '2TB SSD', PowerSupply: 'N/A', Motherboard: 'N/A', Total: '$8000' },
                    { CPU: 'Apple M1 Ultra', RAM: '128GB', 'GPU*': 'Integrated', Storage: '4TB SSD', PowerSupply: 'N/A', Motherboard: 'N/A', Total: '$7000' },
                ],
                'Tower Server': [
                    { CPU: 'Intel Xeon E-2288G', RAM: '64GB', 'GPU*': 'Integrated', Storage: '2TB SSD', PowerSupply: '850W', Motherboard: 'Supermicro X11SCH-LN4F', Total: '$2500' },
                    { CPU: 'AMD EPYC 7252', RAM: '64GB', 'GPU*': 'Integrated', Storage: '2TB SSD', PowerSupply: '850W', Motherboard: 'ASRock Rack EPYCD8-2T', Total: '$2300' },
                    { CPU: 'Ampere Altra Q80-33', RAM: '128GB', 'GPU*': 'Integrated', Storage: '2TB SSD', PowerSupply: 'N/A', Motherboard: 'N/A', Total: '$5000' },
                    { CPU: 'Apple M1 Ultra', RAM: '128GB', 'GPU*': 'Integrated', Storage: '4TB SSD', PowerSupply: 'N/A', Motherboard: 'N/A', Total: '$7000' },
                ],
                'Rack Server': [
                    { CPU: 'Intel Xeon Platinum 8280', RAM: '256GB', 'GPU*': 'Integrated', Storage: '4TB SSD', PowerSupply: '1200W', Motherboard: 'Supermicro X11SPA-T', Total: '$15000' },
                    { CPU: 'AMD EPYC 7742', RAM: '256GB', 'GPU*': 'Integrated', Storage: '4TB SSD', PowerSupply: '1200W', Motherboard: 'ASRock Rack EPYCD8-2T', Total: '$14000' },
                    { CPU: 'Ampere Altra Q80-33', RAM: '256GB', 'GPU*': 'Integrated', Storage: '4TB SSD', PowerSupply: 'N/A', Motherboard: 'N/A', Total: '$12000' },
                    { CPU: 'Apple M1 Ultra', RAM: '128GB', 'GPU*': 'Integrated', Storage: '4TB SSD', PowerSupply: 'N/A', Motherboard: 'N/A', Total: '$7000' },
                ],
                'Blade Server': [
                    { CPU: 'Intel Xeon Platinum 8280', RAM: '512GB', 'GPU*': 'Integrated', Storage: '8TB SSD', PowerSupply: '1200W', Motherboard: 'Supermicro X11SPA-T', Total: '$30000' },
                    { CPU: 'AMD EPYC 7742', RAM: '512GB', 'GPU*': 'Integrated', Storage: '8TB SSD', PowerSupply: '1200W', Motherboard: 'ASRock Rack EPYCD8-2T', Total: '$28000' },
                    { CPU: 'Ampere Altra Q80-33', RAM: '512GB', 'GPU*': 'Integrated', Storage: '8TB SSD', PowerSupply: 'N/A', Motherboard: 'N/A', Total: '$25000' },
                    { CPU: 'Apple M1 Ultra', RAM: '128GB', 'GPU*': 'Integrated', Storage: '4TB SSD', PowerSupply: 'N/A', Motherboard: 'N/A', Total: '$7000' },
                ],
            };

            const warrantyItems = [
                { name: 'Acer', url: 'https://www.acer.com/us-en/support', pattern: /^([a-zA-Z0-9]{7}|[a-zA-Z0-9]{10})$/ },
                { name: 'AMD', url: 'https://www.amd.com/en/support/kb/warranty-information/warranty', pattern: /^([a-zA-Z0-9]{7}|[a-zA-Z0-9]{8})$/ },
                { name: 'Asus', url: 'https://www.asus.com/us/support/', pattern: /^([a-zA-Z0-9]{7}|[a-zA-Z0-9]{10}|[a-zA-Z0-9]{15})$/ },
                { name: 'Apple', url: 'https://checkcoverage.apple.com/', pattern: /^([a-zA-Z0-9]{8})$/ },
                { name: 'Dell', url: 'https://www.dell.com/support/home/', pattern: /^([a-zA-Z0-9]{7})$/ },
                { name: 'Framework', url: 'https://frame.work/support', pattern: /^([a-zA-Z0-9]{7})$/ },
                { name: 'GigaByte', url: 'https://www.gigabyte.com/Support', pattern: /^([a-zA-Z0-9]{7})$/ },
                { name: 'Hewlett-Packard', url: 'https://support.hp.com/us-en/checkwarranty', pattern: /^([a-zA-Z0-9]{7}|[a-zA-Z0-9]{8})$/ },
                { name: 'Huawei', url: 'https://consumer.huawei.com/en/support/', pattern: /^([a-zA-Z0-9]{7})$/ },
                { name: 'Intel', url: 'https://www.intel.com/content/www/us/en/support.html', pattern: /^([a-zA-Z0-9]{7})$/ },
                { name: 'Lenovo', url: 'https://pcsupport.lenovo.com/', pattern: /^([a-zA-Z0-9]{7})$/ },
                { name: 'LG', url: 'https://www.lg.com/us/support', pattern: /^([a-zA-Z0-9]{7})$/ },
                { name: 'Microsoft', url: 'https://account.microsoft.com/devices', pattern: /^([a-zA-Z0-9]{7})$/ },
                { name: 'MSI', url: 'https://www.msi.com/support/', pattern: /^([a-zA-Z0-9]{7}|[a-zA-Z0-9]{8}|[a-zA-Z0-9]{15})$/ },
                { name: 'Samsung', url: 'https://www.samsung.com/us/support/', pattern: /^([a-zA-Z0-9]{7})$/ },
                { name: 'XPG', url: 'https://www.xpg.com/en/support/', pattern: /^([a-zA-Z0-9]{7})$/ },
                { name: 'Valve', url: 'https://help.steampowered.com/', pattern: /^([a-zA-Z0-9]{7})$/ },
                // Add more items as needed
            ];

            const amazonDomains = {
                us: 'com',
                ca: 'ca',
                uk: 'co.uk',
                de: 'de',
                fr: 'fr',
                mx: 'com.mx',
                ru: 'ru',
                jp: 'co.jp',
                // Add more domains as needed
            };

            let userCountryCode = 'us'; // Default to US
            let exchangeRates = {}; // To store exchange rates

            const categoryButtons = document.getElementById('category-buttons');
            const modelTable = document.getElementById('model-recommendation-table');
            const specsTable = document.getElementById('specs-recommendation-table');
            const modelTableTitle = document.getElementById('model-table-title');
            const specsTableTitle = document.getElementById('specs-table-title');
            const warrantyButtons = document.getElementById('warranty-buttons');
            const serialSearchInput = document.getElementById('serial-search');
            const noMatchMessage = document.getElementById('no-match-message');

            // Generate category buttons
            for (const category in categories) {
                const button = document.createElement('button');
                button.textContent = category;
                button.addEventListener('click', () => showCategory(category));
                categoryButtons.appendChild(button);
            }

            // Generate warranty buttons
            for (const item of warrantyItems) {
                const button = document.createElement('button');
                button.textContent = item.name;
                button.dataset.url = item.url;
                button.style.display = 'inline-block'; // Initially display all buttons
                button.addEventListener('click', () => window.open(item.url, '_blank'));
                warrantyButtons.appendChild(button);
            }

            // Show recommendations for selected category
            async function showCategory(category) {
                const recommendations = categories[category];
                modelTableTitle.textContent = `${category} Model Recommendations`;
                specsTableTitle.textContent = `${category} Specs Recommendations`;
                modelTable.innerHTML = ''; // Clear previous table content
                specsTable.innerHTML = '';

                if (recommendations && recommendations.length > 0) {
                    // Create Model table
                    const modelHeaders = ['Intel Based', 'AMD Based', 'ARM Based', 'Mac'];
                    const modelThead = document.createElement('thead');
                    const modelHeaderRow = document.createElement('tr');
                    modelHeaders.forEach(header => {
                        const th = document.createElement('th');
                        th.style.width = '25%'; // Ensure equal width for columns
                        th.textContent = header;
                        modelHeaderRow.appendChild(th);
                    });
                    modelThead.appendChild(modelHeaderRow);
                    modelTable.appendChild(modelThead);

                    const modelTbody = document.createElement('tbody');
                    const modelRow = document.createElement('tr');
                    recommendations.forEach(specs => {
                        const td = document.createElement('td');
                        const link = document.createElement('a');
                        link.href = `https://www.amazon.${amazonDomains[userCountryCode]}/s?k=${encodeURIComponent(specs.CPU)}`;
                        link.target = '_blank';
                        link.textContent = specs.CPU;
                        td.appendChild(link);
                        modelRow.appendChild(td);
                    });
                    modelTbody.appendChild(modelRow);
                    modelTable.appendChild(modelTbody);

                    // Create Specs table
                    const specsHeaders = Object.keys(recommendations[0]);
                    const specsThead = document.createElement('thead');
                    const specsHeaderRow = document.createElement('tr');
                    specsHeaders.forEach(header => {
                        const th = document.createElement('th');
                        th.textContent = header;
                        specsHeaderRow.appendChild(th);
                    });
                    specsThead.appendChild(specsHeaderRow);
                    specsTable.appendChild(specsThead);

                    const specsTbody = document.createElement('tbody');
                    for (const specs of recommendations) {
                        const row = document.createElement('tr');
                        for (const header of specsHeaders) {
                            const td = document.createElement('td');
                            if (header === 'Total') {
                                const link = document.createElement('a');
                                let description = specs.CPU.includes('Intel') ? 'Intel' : specs.CPU.includes('AMD') ? 'AMD' : specs.CPU.includes('Apple') ? 'Apple' : 'ARM';
                                const totalInUSD = parseFloat(specs[header].replace('$', ''));
                                const convertedTotal = Math.round(await convertCurrency(totalInUSD));
                                link.href = `https://www.amazon.${amazonDomains[userCountryCode]}/s?k=${description}+${convertedTotal}+computer`;
                                link.target = '_blank';
                                link.textContent = `${convertedTotal} ${getCurrencySymbol(userCountryCode)}`;
                                td.appendChild(link);
                            } else {
                                if (specs[header].startsWith('customLink')) {
                                    const link = document.createElement('a');
                                    link.href = specs[header].replace('customLink', '');
                                    link.target = '_blank';
                                    link.textContent = header;
                                    td.appendChild(link);
                                } else {
                                    const link = document.createElement('a');
                                    link.href = `https://www.amazon.${amazonDomains[userCountryCode]}/s?k=${encodeURIComponent(specs[header])}`;
                                    link.target = '_blank';
                                    link.textContent = specs[header];
                                    td.appendChild(link);
                                }
                            }
                            row.appendChild(td);
                        }
                        specsTbody.appendChild(row);
                    }
                    specsTable.appendChild(specsTbody);
                }
            }

            // Fetch exchange rates
            async function fetchExchangeRates() {
                try {
                    const response = await fetch('https://api.exchangerate-api.com/v4/latest/USD');
                    const data = await response.json();
                    exchangeRates = data.rates;
                } catch (error) {
                    console.error('Error fetching exchange rates:', error);
                }
            }

            // Convert currency from USD
            async function convertCurrency(amountInUSD) {
                if (exchangeRates && exchangeRates[userCountryCode.toUpperCase()]) {
                    return (amountInUSD * exchangeRates[userCountryCode.toUpperCase()]).toFixed(2);
                }
                return amountInUSD.toFixed(2);
            }

            // Get currency symbol based on country code
            function getCurrencySymbol(countryCode) {
                const symbols = {
                    us: '$',
                    ca: 'CA$',
                    uk: '£',
                    de: '€',
                    fr: '€',
                    mx: 'MX$',
                    ru: '₽',
                    jp: '¥',
                    // Add more symbols as needed
                };
                return symbols[countryCode] || '$';
            }

            // Get user location to set appropriate Amazon domain
            fetch('https://ipapi.co/json/')
                .then(response => response.json())
                .then(data => {
                    if (data && data.country_code) {
                        userCountryCode = data.country_code.toLowerCase();
                        if (!amazonDomains[userCountryCode]) {
                            userCountryCode = 'us'; // Default to US if country code is not mapped
                        }
                        fetchExchangeRates().then(() => {
                            updatePricesWithExchangeRate();
                            showCategory('General'); // Load General category by default after fetching exchange rates
                        });
                    }
                })
                .catch(error => {
                    console.error('Error fetching user location:', error);
                    fetchExchangeRates().then(() => showCategory('General')); // Load General category by default if location fetch fails
                });

            async function updatePricesWithExchangeRate() {
                const categoriesToUpdate = Object.keys(categories);
                for (const category of categoriesToUpdate) {
                    const recommendations = categories[category];
                    for (const specs of recommendations) {
                        const totalInUSD = parseFloat(specs.Total.replace('$', ''));
                        const convertedTotal = Math.round(await convertCurrency(totalInUSD));
                        specs.Total = `${convertedTotal} ${getCurrencySymbol(userCountryCode)}`;
                    }
                }
            }

            // Filter warranty buttons based on serial number input
            serialSearchInput.addEventListener('input', () => {
                const query = serialSearchInput.value.trim();
                let matchesFound = false;
                for (const button of warrantyButtons.children) {
                    const item = warrantyItems.find(i => i.name === button.textContent);
                    if (item.pattern.test(query)) {
                        button.style.display = 'inline-block';
                        matchesFound = true;
                    } else {
                        button.style.display = 'none';
                    }
                }
                noMatchMessage.style.display = matchesFound ? 'none' : 'block';
            });

            // Search serial number on visible warranty buttons
            serialSearchInput.addEventListener('keypress', (e) => {
                if (e.key === 'Enter') {
                    const query = serialSearchInput.value.trim();
                    let matchesFound = false;
                    for (const button of warrantyButtons.children) {
                        if (button.style.display !== 'none') {
                            window.open(button.dataset.url, '_blank');
                            matchesFound = true;
                        }
                    }
                    if (!matchesFound) {
                        noMatchMessage.style.display = 'block';
                    } else {
                        noMatchMessage.style.display = 'none';
                    }
                }
            });
        });
    </script>
</body>
</html>
